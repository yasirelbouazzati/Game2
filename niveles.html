<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NIVELES</title>
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="shortcut icon" href="./imagenes/favicon.png" type="image/x-icon" />
  <style>
    main {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 50vh;
    }

    .nivel-container {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      grid-gap: 50px;
      justify-content: center;
      margin-top: 20%;
    }

    .nivel {
      width: 10vw;
      height: 10vw;
      background: linear-gradient(45deg, #9370db, #ff69b4, #ffa07a);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 90px;
      color: #fff;
      font-weight: bold;
      border-radius: 10px;
      transition: box-shadow 0.3s;
    }

    .numero {
      display: block;
      text-align: center;
    }

    .nivel:hover {
      box-shadow: 0px 0px 30px rgba(255, 255, 255, 0.8);
    }

    .nivel_bloqueado:hover {
      box-shadow: 0px 0px 30px rgba(255, 255, 255, 0.8);
      animation: vibrar 0.5s ease infinite;
    }

    .nivel1_link {
      text-decoration: none;
      color: #fff;
    }

    @keyframes vibrar {
      0% {
        transform: translate(0, 0);
      }

      10% {
        transform: translate(-5px, 5px);
      }

      20% {
        transform: translate(5px, -5px);
      }

      30% {
        transform: translate(-5px, -5px);
      }

      40% {
        transform: translate(5px, 5px);
      }

      50% {
        transform: translate(-5px, 5px);
      }

      60% {
        transform: translate(5px, -5px);
      }

      70% {
        transform: translate(-5px, -5px);
      }

      80% {
        transform: translate(5px, 5px);
      }

      90% {
        transform: translate(-5px, 5px);
      }

      100% {
        transform: translate(0, 0);
      }
    }

    .nivel_bloqueado {
      position: relative;
      width: 10vw;
      height: 10vw;
      background: linear-gradient(45deg, #282c44, #282c44, #282c44);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 90px;
      color: #fff;
      font-weight: bold;
      border-radius: 10px;
      transition: box-shadow 0.3s;
    }

    .nivel_bloqueado img {
      position: absolute;
      top: 10;
      left: 0;
      max-width: 100%;
      max-height: 120%;
    }

    .cerrar-link {
      position: absolute;
      top: 20px;
      left: 20px;
      z-index: 999;
    }

    .title {
      position: absolute;
      top: 20px;
      left: 655px;
      z-index: 999;
    }

    .dialog-box {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 30vw;
      /* Ajustado el ancho */
      padding: 20px;
      background: linear-gradient(45deg, #9370db, #ff69b4, #ffa07a);
      border: 1px solid #cf00de;
      text-align: center;
      z-index: 1000;
    }

    .dialog-box p {
      color: #fff;
      font-size: 24px;
      /* Tamaño del texto ajustado */
      font-weight: bold;
      /* Negrita */
      margin-bottom: 20px;
      /* Espacio después del texto */
    }

    .dialog-buttons {
      margin-top: 20px;
    }

    .dialog-buttons button {
      margin: 0 10px;
      padding: 10px 20px;
      /* Ajustado el padding para el botón */
      font-size: 18px;
      /* Tamaño del texto del botón */
      border-radius: 5px;
      /* Bordes redondeados */
      cursor: pointer;
    }

    .dialog-buttons button.sí {
      background: #2ecc71;
      /* Color verde */
      color: #fff;
    }

    .dialog-buttons button.no {
      background: #e74c3c;
      /* Color rojo */
      color: #fff;
    }

    /* Agrega estilos adicionales para el menú desplegable */
    /* Agrega estilos adicionales para el menú desplegable */
    .reseña {
      position: absolute;
      top: 20px;
      left: 1299px;
      z-index: 999;
    }

    .reseña select {
      font-size: 16px;
      padding: 5px;
      border-radius: 5px;
      cursor: pointer;
    }

    /* Estilos para la sección de reseñas */

    .reseña-item {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .emoji-container {
      text-align: right;
      /* Alinea todos los elementos a la derecha */
    }

    .emoji {
      display: inline-block;
      font-size: 24px;
      cursor: pointer;
      margin: 5px;
      padding: 10px;
      border-radius: 50%;
      transition: transform 0.3s ease-in-out;
    }

    .emoji:hover {
      transform: scale(1.2);
      /* Ajusta según sea necesario */
    }

    .feliz {
      background-color: #2ecc71;
      /* Color verde para feliz */
    }

    .neutro {
      background-color: #f39c12;
      /* Color naranja para neutro */
    }

    .triste {
      background-color: #e74c3c;
      /* Color rojo para triste */
    }

    .reseña-emoji {
      font-size: 24px;
      margin-right: 10px;
    }

    /* Alinea todo a la derecha */
    .container {
      float: right;
    }

    .puntos-container {
      position: absolute;
      top: 20px;
      left: 1490px;
      display: flex;
      align-items: center;
      font-size: 18px;
      color: #fff;
      z-index: 999;
    }

    .puntos-icon {
      margin-right: -60px;
      width: 35px;
      /* Ajusta el tamaño según sea necesario */
      height: 30px;
    }

    /* Aplica la fuente Pixelify Sans a los números */
    .pixelify-sans-font {
      font-family: "Pixelify Sans", sans-serif;
      /* Reemplaza 'Pixelify Sans' con el nombre real de la fuente que has descargado */
      font-size: 16px;
      /* Ajusta el tamaño de la fuente según tus necesidades */
      image-rendering: pixelated;
      /* Aplica la apariencia pixelada */
    }
  </style>
</head>

<body class="fondo">
  <main>
    <a href="index.html" class="cerrar-link">
      <img src="imagenes/xxx.png" alt="Cerrar" style="
            width: 100px;
            height: 100px;
            margin-top: -24px;
            margin-left: -22px;
          " />
    </a>

    <div class="title">
      <img src="imagenes/levels.png" style="width: 200px; height: 50px" />
    </div>

    <!-- Contenido del archivo niveles.html -->
    <div class="puntos-container">
      <img src="imagenes/moneda.png" alt="Puntos" class="puntos-icon" />
      <span class="pixelify-sans-font" id="score2"></span>
    </div>

    <div class="nivel-container">
      <a href="nivel1.html" class="nivel1_link">
        <div class="nivel">
          <span class="numero" href="nivel1.html">
            <img src="imagenes/uno.png" alt="" /></span>
        </div>
      </a>
      <a href="nivel2.html" class="nivel1_link">
        <div class="nivel">
          <span class="numero" href="nivel2.html"><img src="imagenes/dos.png" alt="" /></span>
        </div>
      </a>
      <div class="nivel_bloqueado">
        <span class="numero">3</span>
        <img src="imagenes/candado.png" alt="" />
      </div>
      <div class="nivel_bloqueado">
        <span class="numero">4</span>
        <img src="imagenes/candado.png" alt="" />
      </div>
      <div class="nivel_bloqueado">
        <span class="numero">5</span>
        <img src="imagenes/candado.png" alt="" />
      </div>
      <div class="nivel_bloqueado">
        <span class="numero">6</span>
        <img src="imagenes/candado.png" alt="" />
      </div>
      <div class="nivel_bloqueado">
        <span class="numero">7</span>
        <img src="imagenes/candado.png" alt="" />
      </div>
      <div class="nivel_bloqueado">
        <span class="numero">8</span>
        <img src="imagenes/candado.png" alt="" />
      </div>
      <div class="nivel_bloqueado">
        <span class="numero">9</span>
        <img src="imagenes/candado.png" alt="" />
      </div>
      <div class="nivel_bloqueado">
        <span class="numero">10</span>
        <img src="imagenes/candado.png" alt="" />
      </div>
    </div>

    <div class="dialog-box" id="dialogBox">
      <p>¿Estás seguro de que quieres salir?</p>
      <div class="dialog-buttons">
        <button class="sí" onclick="cerrarVentana()">Sí</button>
        <button class="no" onclick="cerrarDialog()">No</button>
      </div>
    </div>
  </main>
</body>
<script>
  // Funciones para mostrar/ocultar el diálogo
  function mostrarDialog() {
    document.getElementById("dialogBox").style.display = "block";
  }

  function cerrarDialog() {
    document.getElementById("dialogBox").style.display = "none";
  }

  // Esta función podría redirigirte a la página de inicio, por ejemplo.
  function cerrarVentana() {
    // Simplemente redirigir a la página de inicio por ejemplo
    window.location.href = "index.html";
  }

  // Evento al hacer clic en el botón "x"
  document
    .querySelector(".cerrar-link")
    .addEventListener("click", function (event) {
      event.preventDefault(); // Evita el comportamiento predeterminado del enlace
      mostrarDialog(); // Muestra el cuadro de diálogo
    });
</script>

<script>
  function seleccionarEstadoAnimo(nivel) {
    var emojiSeleccionado = document.getElementById("estadoAnimo").value;
    enviarReseña(nivel, emojiSeleccionado);
  }

  function enviarReseña(nivel, emoji) {
    var confirmacion = confirm("¿Quieres enviar esta reseña?");

    if (confirmacion) {
      fetch("guardar_resena.php", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          nivel: nivel,
          emoji: emoji,
        }),
      })
        .then((response) => response.json())
        .then((data) => {
          if (data.success) {
            alert("Reseña enviada exitosamente.");
          } else {
            console.error("Error al enviar la reseña:", data.error);
            alert("Error al enviar la reseña.");
          }
        });
    }
  }
</script>
<script src="puntos.js" defer></script>

</html>